// database
datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// generator
generator client {
  provider             = "prisma-client-py"
  recursive_type_depth = 5
  enable_experimental_decimal = true
}

// models
model tokens {
  customer_id             Int       @id @default(autoincrement())
  access_token            String
  access_token_expire_in  BigInt
  refresh_token           String
  refresh_token_expire_in BigInt

  created                 DateTime  @default(now())
  modified                DateTime  @updatedAt
  shops                   shop_data[]
}

model shop_data {
  customer_id     Int
  shop_id         String
  shop_name       String
  shop_code       String
  shop_cipher     String

  created         DateTime  @default(now())
  modified        DateTime  @updatedAt
  token           tokens   @relation(fields: [customer_id], references: [customer_id])
  @@id([customer_id, shop_id])
}