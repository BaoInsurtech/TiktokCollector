// database
datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// generator
generator client {
  provider             = "prisma-client-py"
  recursive_type_depth = 5
  enable_experimental_decimal = true
}

// models
model TiktokShopTokens {
  customer_id             Int       @id @default(autoincrement())
  access_token            String
  access_token_expire_in  BigInt
  refresh_token           String
  refresh_token_expire_in BigInt

  shops                   TiktokShopData[]
}

model TiktokShopData {
  customer_id     Int
  shop_id         String
  shop_name       String
  shop_code       String
  shop_cipher     String

  token           TiktokShopTokens   @relation(fields: [customer_id], references: [customer_id])
  @@id([customer_id, shop_id])
}